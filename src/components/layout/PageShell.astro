---
import BasePage from './BasePage.astro'
import ThemeToggleLite from '../ThemeToggleLite.astro'
import LanguageToggleLite from '../LanguageToggleLite.astro'
import LanguageService from '../LanguageService.astro'
import { Image } from 'astro:assets'
import faviconImg from '../../../public/favicon.webp'
---

<BasePage {...Astro.props}>
  <LanguageService />
  <header class='sticky top-0 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60'>
    <div class='mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3'>
      <div class='flex items-center gap-2'>
        <Image
          src={faviconImg}
          alt='Logo'
          class='h-10 w-10 rounded-lg'
          width={40}
          height={40}
        />
        <div class='leading-tight'>
          <p class='text-xs uppercase tracking-[0.2em] text-muted-foreground'>Full Stack</p>
          <p class='text-sm font-semibold sm:hidden'>SergioGMR</p>
          <p class='hidden text-sm font-semibold sm:block'>Sergio Morales Rodríguez</p>
        </div>
      </div>
      <div class='flex flex-1 items-center justify-end gap-2 flex-wrap sm:flex-none sm:gap-3'>
        <LanguageToggleLite />
        <ThemeToggleLite />
        <a
          href='mailto:sergiogmr+portfolio@icloud.com'
          class='flex h-9 items-center justify-center rounded-full border px-4 text-sm transition hover:bg-foreground hover:text-background'
          aria-label='Contactar por email'
        >
          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.8' class='h-4 w-4 sm:hidden'>
            <path d='M4 6h16c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1z' />
            <path d='m3 7 9 6 9-6' />
          </svg>
          <span class='hidden sm:inline'>Contacto</span>
        </a>
      </div>
    </div>
  </header>

  <main class='mx-auto flex max-w-6xl flex-col gap-16 px-4 pb-20 pt-12 sm:gap-20 sm:pt-16'>
    <slot />
  </main>

  <footer class='border-t py-10'>
    <div class='mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-4 text-sm text-muted-foreground'>
      <div>
        <span data-lang-content='es'>Construido con Astro y Tailwind. Código en</span>
        <span data-lang-content='en'>Built with Astro and Tailwind. Code at</span>
        {' '}
        <a class='text-foreground underline' href='https://github.com/sergiogmr/portfolio' target='_blank'>GitHub</a>
      </div>
      <div class='flex items-center gap-3'>
        <a href='https://x.com/sergiogmr' class='hover:text-foreground'>X</a>
        <a href='https://www.linkedin.com/in/sergiogmr' class='hover:text-foreground'>LinkedIn</a>
        <a href='https://github.com/sergiogmr' class='hover:text-foreground'>GitHub</a>
      </div>
    </div>
  </footer>
</BasePage>
