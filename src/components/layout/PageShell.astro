---
import BasePage from './BasePage.astro'
import ThemeToggleLite from '../ThemeToggleLite.astro'
import LanguageToggleLite from '../LanguageToggleLite.astro'
import LanguageService from '../LanguageService.astro'
import { Image } from 'astro:assets'
import faviconImg from '../../../public/favicon.webp'
---

<BasePage {...Astro.props}>
  <LanguageService />
  <header class='sticky top-0 z-40 border-b border-border bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60'>
    <div class='mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3 text-foreground'>
      <div class='flex items-center gap-2'>
        <Image
          src={faviconImg}
          alt='Logo'
          class='h-10 w-10 rounded-lg'
          width={60}
          height={60}
        />
        <div class='leading-tight'>
          <p class='text-xs uppercase tracking-[0.2em] text-muted-foreground'>Full Stack</p>
          <p class='text-sm font-semibold sm:hidden'>SergioGMR</p>
          <p class='hidden text-sm font-semibold sm:block'>Sergio Morales Rodríguez</p>
        </div>
      </div>
      <div class='flex flex-1 items-center justify-end gap-2 flex-wrap sm:flex-none sm:gap-3'>
        <LanguageToggleLite />
        <ThemeToggleLite />
        <a
          href='mailto:sergiogmr+portfolio@icloud.com'
          class='flex h-9 items-center justify-center rounded-full border border-border bg-[linear-gradient(135deg,#5eb1ff,#7f5dff)] px-4 text-sm font-semibold text-white shadow-[0_10px_30px_-18px_rgba(95,150,255,0.9)] transition hover:brightness-110'
          aria-label='Contactar por email'
        >
          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.8' class='h-4 w-4 sm:hidden'>
            <path d='M4 6h16c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1z' />
            <path d='m3 7 9 6 9-6' />
          </svg>
          <span class='hidden sm:inline'>Contacto</span>
        </a>
      </div>
    </div>
  </header>

  <main class='mx-auto flex max-w-6xl flex-col gap-16 px-4 pb-20 pt-12 sm:gap-20 sm:pt-16'>
    <slot />
  </main>

  <footer class='border-t border-border bg-muted/30 py-10'>
    <div class='mx-auto flex max-w-6xl flex-col gap-6 px-4 text-foreground sm:flex-row sm:items-center sm:justify-between'>
      <div class='space-y-2'>
        <p class='text-xs uppercase tracking-[0.25em] text-muted-foreground'>
          <span data-lang-content='es'>Disponible para colaborar</span>
          <span data-lang-content='en'>Open to collaborate</span>
        </p>
        <p class='text-2xl font-semibold leading-tight'>
          <span data-lang-content='es'>Construyamos algo útil y rápido.</span>
          <span data-lang-content='en'>Let’s ship something useful.</span>
        </p>
        <div class='flex flex-wrap gap-2 text-sm text-muted-foreground'>
          <span class='inline-flex items-center gap-2 rounded-full border border-border px-3 py-1'>
            <span class='relative inline-flex h-3 w-3 items-center justify-center'>
              <span class='absolute inline-flex h-full w-full rounded-full bg-green-500/60 animate-ping'></span>
              <span class='relative inline-flex h-2 w-2 rounded-full bg-green-500'></span>
            </span>
            <span>UTC+0/+1</span>
          </span>
        </div>
      </div>
      <div class='flex flex-wrap items-center gap-3'>
        <a
          href='mailto:sergiogmr+portfolio@icloud.com'
          class='inline-flex items-center gap-2 rounded-full bg-foreground px-4 py-2 text-sm font-semibold text-background transition hover:opacity-90'
        >
          <span data-lang-content='es'>Escríbeme</span>
          <span data-lang-content='en'>Email me</span>
          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='1.8' class='h-4 w-4'>
            <path d='M4 6h16c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1H4c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1z' />
            <path d='m3 7 9 6 9-6' />
          </svg>
        </a>
        <div class='flex items-center gap-2 text-sm text-muted-foreground'>
          <a href='https://x.com/sergiogmr' class='rounded-full border border-border px-3 py-1 transition hover:border-foreground hover:text-foreground'>X</a>
          <a href='https://www.linkedin.com/in/sergiogmr' class='rounded-full border border-border px-3 py-1 transition hover:border-foreground hover:text-foreground'>LinkedIn</a>
          <a href='https://github.com/sergiogmr' class='rounded-full border border-border px-3 py-1 transition hover:border-foreground hover:text-foreground'>GitHub</a>
          <a href='https://github.com/sergiogmr/portfolio' class='rounded-full border border-border px-3 py-1 transition hover:border-foreground hover:text-foreground'>
            <span data-lang-content='es'>Código</span>
            <span data-lang-content='en'>Repo</span>
          </a>
        </div>
      </div>
    </div>
  </footer>
</BasePage>
